<div class="input-container">
    <form (ngSubmit)="handleSubmit()">
        <!-- Bot칩n para Eventos -->
        <button type="button" class="icon-btn" (click)="openEventModal()" title="Crear Evento">
            <mat-icon>event</mat-icon>
        </button>

        <!-- Bot칩n para Im치genes -->
        <label class="image-upload icon-btn">
            <input
                type="file"
                accept="image/*"
                (change)="handleImage($event)"
                hidden
            />
            <mat-icon>image</mat-icon>
        </label>

        <input
            type="text"
            [(ngModel)]="message"
            name="message"
            #messageInput
            placeholder="Escribe un mensaje..."
            autocomplete="off"
        />

        <button type="submit" [disabled]="!message.trim() && !imageFile" class="send-btn">
            <mat-icon>send</mat-icon>
        </button>

        @if(imagePreview){
            <div class="image-preview">
                <img [src]="imagePreview" alt="Imagen a enviar" />
                <button type="button" (click)="removeImage()">
                    <mat-icon>close</mat-icon>
                </button>
            </div>
        }
    </form>
</div>

<!-- Modal de Creaci칩n de Evento -->
@if(showEventModal) {
    <app-create-event-modal 
        (onClose)="closeEventModal()" 
        (onCreate)="handleCreateEvent($event)">
    </app-create-event-modal>
}