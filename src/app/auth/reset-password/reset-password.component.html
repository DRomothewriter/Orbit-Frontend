<div class="login-container">
    <div class="login-card glass-card">
        <div class="card-content">
            <div class="form-column">
                <!-- Botón de Regresar -->
                <a
                    routerLink="/login"
                    class="back-button"
                    mat-icon-button
                    aria-label="Regresar al login"
                >
                    <mat-icon>arrow_back_ios_new</mat-icon>
                </a>

                <!-- Cabecera del formulario -->
                <div class="form-header">
                    <h1>Restablecer Contraseña</h1>
                    <p>Ingresa tu nueva contraseña</p>
                </div>

                <!-- Formulario -->
                <form class="reset-form" (ngSubmit)="onSubmit()">
                    <mat-form-field>
                        <mat-label>Nueva Contraseña</mat-label>
                        <input
                            matInput
                            type="password"
                            placeholder="Mínimo 8 caracteres"
                            [(ngModel)]="newPassword"
                            name="newPassword"
                            required
                        />
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Confirmar Contraseña</mat-label>
                        <input
                            matInput
                            type="password"
                            placeholder="Repite tu contraseña"
                            [(ngModel)]="confirmPassword"
                            name="confirmPassword"
                            required
                        />
                    </mat-form-field>

                    <!-- Mensaje de éxito -->
                    <div *ngIf="message" class="success-message">
                        <mat-icon>check_circle</mat-icon>
                        {{ message }}
                    </div>

                    <!-- Mensaje de error -->
                    <div *ngIf="errorMessage" class="error-message">
                        <mat-icon>error</mat-icon>
                        {{ errorMessage }}
                    </div>

                    <button
                        type="submit"
                        [disabled]="isLoading || !token"
                        mat-raised-button
                        class="accent-button submit-button"
                    >
                        <span *ngIf="!isLoading">Restablecer Contraseña</span>
                        <mat-spinner
                            *ngIf="isLoading"
                            diameter="20"
                        ></mat-spinner>
                    </button>
                </form>

                <p class="register-link">
                    ¿Recordaste tu contraseña?
                    <a routerLink="/login" class="accent-link">Inicia sesión aquí</a>
                </p>
            </div>

            <div class="welcome-column">
                <img
                    src="https://placehold.co/150x150/111827/533483?text=Orbit&font=poppins"
                    alt="Orbit Logo"
                    class="welcome-logo"
                />
                <h2>Conecta y Colabora sin Límites</h2>
                <p>
                    La plataforma todo-en-uno para comunicación de equipos,
                    gestión de proyectos y productividad.
                </p>
            </div>
        </div>
    </div>
</div>
